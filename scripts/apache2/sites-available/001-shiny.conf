<VirtualHost *:9090>
        ServerName bit-server
        ProxyRequests Off
        ProxyPreserveHost On
        
		# shiny app redirect 
        RewriteEngine on
        RewriteCond %{HTTP:Upgrade} =websocket
        RewriteRule /shiny/(.*) ws://localhost:3838/$1 [P,L]
        RewriteCond %{HTTP:Upgrade} !=websocket
        RewriteRule /shiny/(.*) http://localhost:3838/$1 [P,L]
		
        ProxyPass /shiny/ http://localhost:3838/
        ProxyPassReverse /shiny/ http://localhost:3838/
        ProxyRequests Off
        
        #jupyter
        ProxyPass /api/kernels/ ws://localhost:5000/api/kernels/
    	ProxyPassReverse /api/kernels/ http://localhost:5000/api/kernels/

    	ProxyPass /jupyter/ http://localhost:5000/
    	ProxyPassReverse /jupyter/ http://localhost:5000/
</VirtualHost>